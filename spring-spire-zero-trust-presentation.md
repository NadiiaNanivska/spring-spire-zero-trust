---
marp: true
theme: rose-pine-moon
---

<style>
table {
  color: #e0def4;
  border-collapse: collapse;
}

th, td {
  border: 1px solid #44415a; 
  padding: 8px 12px;
  background-color: #2a273f;
  color: #e0def4;
}

th {
  background-color: #3e3a5a;
}

section {
  padding-bottom: 100px !important;
}
</style>

# Моделювання та Аналіз Безпеки Мікросервісних Архітектур
## Порівняння SPIFFE/SPIRE з Традиційними Методами (JWT, Static TLS)

**Магістерська робота**
*Нанівська Надія*

---

## Проблема: "Як довіряти?"

У сучасних мікросервісних архітектурах критично важливо забезпечити безпечну комунікацію.

Коли `orders-service` викликає `payments-service`, виникають два питання:
1.  Як `payments` може бути впевненим, що це *справжній* `orders`, а не зловмисник?
2.  Як `orders` може бути впевненим, що він говорить зі *справжнім* `payments`?

Традиційні "стіни" (firewalls) не працюють всередині довіреної мережі.

!(https://i.imgur.com/v0kG4hP.png)

---

## Традиційні Рішення та їхні Недоліки

| Метод | Як працює | Головна Вразливість |
| :--- | :--- | :--- |
| **JWT** | Клієнт пред'являє "токен" (пропуск). | **Крадіжка токена**. Викрадений access токен неможливо відкликати. Навіть якщо він короткоживучий, **refresh токен** зазвичай має довший термін дії і дозволяє зловмиснику продовжити атаку. |
| **Static TLS** | Клієнт та сервер мають статичні сертифікати (ключі). | **Складне управління ключами**. Приватні ключі та сертифікати генеруються вручну, мають довгий термін дії та зберігаються у файлах на серверах. Їх важко ротаційно оновлювати, що створює ризик компрометації. |

**Спільна проблема:** Облікові дані (токени/ключі) є **довгоживучими** та **зберігаються у файлах**, що робить їх вразливими до крадіжки.

---

## Сучасний Підхід: Zero Trust та SPIFFE

**Концепція "Нульової Довіри" (Zero Trust):** *Ніколи не довіряй, завжди перевіряй.*

**SPIFFE** — це стандарт, який дає унікальну, криптографічну **ідентичність** не машині чи IP-адресі, а безпосередньо **програмі** (`workload`).

**SPIRE** — це реалізація SPIFFE, яка **автоматично** видає ці ідентичності (SVID) сервісам, коли вони запускаються.

!(https://i.imgur.com/8F2n4Qp.png)

---

## Ключові Переваги SPIRE

Чому SPIRE вирішує проблеми, де JWT та Static TLS зазнають невдачі?

1.  **Динамічні Ідентичності (SVID)**
    Більше ніяких статичних ключів чи токенів у Kubernetes Secrets. Секрети існують лише в пам'яті.

2.  **Короткоживучі Сертифікати**
    SVID (пропуск) дійсний **хвилини**, а не місяці.

3.  **Автоматична Ротація**
    SPIRE оновлює SVID автоматично, без перезапуску сервісів.

**Головний Результат: Вкрадений секрет стає недійсним майже миттєво.**

---
## План Дослідження: 2 Етапи

Як перевірити, чи SPIRE дійсно кращий?

1.  **Курсова Робота (Етап 1):**
    *Proof-of-Concept (PoC).*
    "Чи воно працює і яка ціна продуктивності?"

2.  **Дипломна Робота (Етап 2):**
    *Аналіз Безпеки та Порівняння.*
    "Чи воно *насправді* безпечніше?"

---

## Етап 1: Курсова Робота ("Побудувати та Виміряти")

**Мета:** Побудувати робочий прототип на SPIRE та виміряти його накладні витрати.

1.  **Реалізація:**
    * 2 Spring Boot мікросервіси (`orders` + `payments`).
    * Локальний Kubernetes (Kind) + SPIRE.
2.  **Інтеграція:**
    * Налаштування програмного mTLS за допомогою бібліотеки `java-spiffe`.
3.  **Вимірювання (Performance):**
    * Збір метрик за допомогою **Prometheus** та **Grafana**.
    * **Latency** (Затримка запитів).
    * **Throughput** (Пропускна здатність, RPS).
    * **CPU/Memory Overhead** (Накладні витрати на SPIRE Agent).

---

## Етап 2: Дипломна Робота ("Порівняти та Зламати")

**Мета:** Практично довести переваги SPIRE у безпеці шляхом порівняльного аналізу та моделювання атак.

1.  **Порівняння:**
    * Створити 2 додаткові середовища: з **JWT** та **Static TLS**.
    * Порівняти показники продуктивності всіх трьох систем.
2.  **Моделювання Загроз (Threat Modeling):**
    * Розробка формальної моделі загроз (за методологією **STRIDE**).
3.  **Практична Валідація (Атаки):**
    * **Сценарій 1:** Симуляція крадіжки **JWT-токена**.
    * **Сценарій 2:** Симуляція крадіжки **статичного TLS-ключа**.
    * **Сценарій 3:** Симуляція крадіжки **SVID (SPIRE)**.

---

## Очікуваний Результат Роботи

1.  **Кількісні дані**, що показують компроміс (trade-off) між продуктивністю та безпекою для трьох різних архітектур.
2.  **Практичне підтвердження** вразливостей JWT та Static TLS до атак з використанням вкрадених секретів.
3.  **Практична демонстрація** стійкості SPIRE до цих атак завдяки автоматичній, швидкій ротації SVID.
4.  Сформовані **рекомендації** щодо імплементації Zero Trust архітектури для Spring Boot мікросервісів.

---
# Дякую за увагу!
## Ваші запитання?